2022-08-30 00:23:04,185: root: INFO: MachineLearningCrypto : Executing the initialize lifecycle method
2022-08-30 00:23:04,207: root: INFO: Current backtesting datetime 2021-02-19 00:00:00-05:00
2022-08-30 00:23:04,207: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,208: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,208: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,284: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,285: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,285: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,285: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,287: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,287: root: INFO: Current backtesting datetime 2021-02-19 00:15:00-05:00
2022-08-30 00:23:04,289: root: INFO: Current backtesting datetime 2021-02-19 00:15:00-05:00
2022-08-30 00:23:04,289: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,291: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,291: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,291: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,292: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,292: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,293: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,293: root: INFO: Current backtesting datetime 2021-02-19 00:30:00-05:00
2022-08-30 00:23:04,294: root: INFO: Current backtesting datetime 2021-02-19 00:30:00-05:00
2022-08-30 00:23:04,294: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,296: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,296: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,340: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,340: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,341: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,341: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,342: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,342: root: INFO: Current backtesting datetime 2021-02-19 00:45:00-05:00
2022-08-30 00:23:04,344: root: INFO: Current backtesting datetime 2021-02-19 00:45:00-05:00
2022-08-30 00:23:04,344: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,345: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,346: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,346: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,346: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,346: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,348: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,348: root: INFO: Current backtesting datetime 2021-02-19 01:00:00-05:00
2022-08-30 00:23:04,349: root: INFO: Current backtesting datetime 2021-02-19 01:00:00-05:00
2022-08-30 00:23:04,349: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,351: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,351: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,395: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,395: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,395: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,395: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,396: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,397: root: INFO: Current backtesting datetime 2021-02-19 01:15:00-05:00
2022-08-30 00:23:04,398: root: INFO: Current backtesting datetime 2021-02-19 01:15:00-05:00
2022-08-30 00:23:04,398: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,400: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,400: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,400: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,401: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,401: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,402: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,403: root: INFO: Current backtesting datetime 2021-02-19 01:30:00-05:00
2022-08-30 00:23:04,404: root: INFO: Current backtesting datetime 2021-02-19 01:30:00-05:00
2022-08-30 00:23:04,404: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,405: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,406: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,447: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,448: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,448: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,448: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,449: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,450: root: INFO: Current backtesting datetime 2021-02-19 01:45:00-05:00
2022-08-30 00:23:04,451: root: INFO: Current backtesting datetime 2021-02-19 01:45:00-05:00
2022-08-30 00:23:04,451: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,453: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,453: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,453: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,453: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,453: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,455: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,455: root: INFO: Current backtesting datetime 2021-02-19 02:00:00-05:00
2022-08-30 00:23:04,456: root: INFO: Current backtesting datetime 2021-02-19 02:00:00-05:00
2022-08-30 00:23:04,456: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,458: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,458: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,502: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,502: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,503: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,503: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,504: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,504: root: INFO: Current backtesting datetime 2021-02-19 02:15:00-05:00
2022-08-30 00:23:04,505: root: INFO: Current backtesting datetime 2021-02-19 02:15:00-05:00
2022-08-30 00:23:04,505: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,507: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,507: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,507: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,507: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,507: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,508: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,509: root: INFO: Current backtesting datetime 2021-02-19 02:30:00-05:00
2022-08-30 00:23:04,510: root: INFO: Current backtesting datetime 2021-02-19 02:30:00-05:00
2022-08-30 00:23:04,510: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,511: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,512: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,556: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,556: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,557: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,557: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,558: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,558: root: INFO: Current backtesting datetime 2021-02-19 02:45:00-05:00
2022-08-30 00:23:04,559: root: INFO: Current backtesting datetime 2021-02-19 02:45:00-05:00
2022-08-30 00:23:04,560: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,561: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,561: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,561: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,562: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,562: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,563: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,563: root: INFO: Current backtesting datetime 2021-02-19 03:00:00-05:00
2022-08-30 00:23:04,565: root: INFO: Current backtesting datetime 2021-02-19 03:00:00-05:00
2022-08-30 00:23:04,565: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,567: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,567: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,610: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,610: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,610: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,610: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,612: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,612: root: INFO: Current backtesting datetime 2021-02-19 03:15:00-05:00
2022-08-30 00:23:04,613: root: INFO: Current backtesting datetime 2021-02-19 03:15:00-05:00
2022-08-30 00:23:04,613: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,614: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,615: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,615: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,615: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,615: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,616: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,616: root: INFO: Current backtesting datetime 2021-02-19 03:30:00-05:00
2022-08-30 00:23:04,617: root: INFO: Current backtesting datetime 2021-02-19 03:30:00-05:00
2022-08-30 00:23:04,617: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,619: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,619: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,660: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,660: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,660: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,661: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,662: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,662: root: INFO: Current backtesting datetime 2021-02-19 03:45:00-05:00
2022-08-30 00:23:04,663: root: INFO: Current backtesting datetime 2021-02-19 03:45:00-05:00
2022-08-30 00:23:04,663: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,664: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,665: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,665: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,666: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,666: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,667: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,667: root: INFO: Current backtesting datetime 2021-02-19 04:00:00-05:00
2022-08-30 00:23:04,668: root: INFO: Current backtesting datetime 2021-02-19 04:00:00-05:00
2022-08-30 00:23:04,668: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,670: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,670: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,710: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,710: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,710: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,710: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,711: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,711: root: INFO: Current backtesting datetime 2021-02-19 04:15:00-05:00
2022-08-30 00:23:04,712: root: INFO: Current backtesting datetime 2021-02-19 04:15:00-05:00
2022-08-30 00:23:04,712: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,714: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,714: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,714: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,715: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,715: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,716: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,716: root: INFO: Current backtesting datetime 2021-02-19 04:30:00-05:00
2022-08-30 00:23:04,717: root: INFO: Current backtesting datetime 2021-02-19 04:30:00-05:00
2022-08-30 00:23:04,717: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,719: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,719: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,760: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,760: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,762: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,762: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,763: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,763: root: INFO: Current backtesting datetime 2021-02-19 04:45:00-05:00
2022-08-30 00:23:04,765: root: INFO: Current backtesting datetime 2021-02-19 04:45:00-05:00
2022-08-30 00:23:04,765: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,767: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,767: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,767: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,767: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,768: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,769: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,769: root: INFO: Current backtesting datetime 2021-02-19 05:00:00-05:00
2022-08-30 00:23:04,770: root: INFO: Current backtesting datetime 2021-02-19 05:00:00-05:00
2022-08-30 00:23:04,770: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,772: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,772: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,815: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,815: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,816: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,816: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,817: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,817: root: INFO: Current backtesting datetime 2021-02-19 05:15:00-05:00
2022-08-30 00:23:04,819: root: INFO: Current backtesting datetime 2021-02-19 05:15:00-05:00
2022-08-30 00:23:04,819: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,820: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,821: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,821: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,822: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,822: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,823: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,823: root: INFO: Current backtesting datetime 2021-02-19 05:30:00-05:00
2022-08-30 00:23:04,824: root: INFO: Current backtesting datetime 2021-02-19 05:30:00-05:00
2022-08-30 00:23:04,824: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,826: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,826: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,872: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,872: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,873: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,873: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,874: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,874: root: INFO: Current backtesting datetime 2021-02-19 05:45:00-05:00
2022-08-30 00:23:04,875: root: INFO: Current backtesting datetime 2021-02-19 05:45:00-05:00
2022-08-30 00:23:04,875: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,877: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,877: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,877: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,877: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,878: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,879: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,879: root: INFO: Current backtesting datetime 2021-02-19 06:00:00-05:00
2022-08-30 00:23:04,880: root: INFO: Current backtesting datetime 2021-02-19 06:00:00-05:00
2022-08-30 00:23:04,881: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,882: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,882: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,926: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,927: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,927: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,927: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,930: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,930: root: INFO: Current backtesting datetime 2021-02-19 06:15:00-05:00
2022-08-30 00:23:04,931: root: INFO: Current backtesting datetime 2021-02-19 06:15:00-05:00
2022-08-30 00:23:04,931: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,933: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,933: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,933: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,934: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,934: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,935: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,935: root: INFO: Current backtesting datetime 2021-02-19 06:30:00-05:00
2022-08-30 00:23:04,937: root: INFO: Current backtesting datetime 2021-02-19 06:30:00-05:00
2022-08-30 00:23:04,937: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,939: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,939: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:04,983: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:04,983: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:04,983: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,983: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,985: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,985: root: INFO: Current backtesting datetime 2021-02-19 06:45:00-05:00
2022-08-30 00:23:04,986: root: INFO: Current backtesting datetime 2021-02-19 06:45:00-05:00
2022-08-30 00:23:04,986: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,988: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,988: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:04,988: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:04,988: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:04,988: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:04,990: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:04,990: root: INFO: Current backtesting datetime 2021-02-19 07:00:00-05:00
2022-08-30 00:23:04,991: root: INFO: Current backtesting datetime 2021-02-19 07:00:00-05:00
2022-08-30 00:23:04,991: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:04,993: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:04,993: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,034: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,035: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,035: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,035: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,036: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,036: root: INFO: Current backtesting datetime 2021-02-19 07:15:00-05:00
2022-08-30 00:23:05,037: root: INFO: Current backtesting datetime 2021-02-19 07:15:00-05:00
2022-08-30 00:23:05,037: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,039: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,039: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,039: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,039: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,039: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,041: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,042: root: INFO: Current backtesting datetime 2021-02-19 07:30:00-05:00
2022-08-30 00:23:05,043: root: INFO: Current backtesting datetime 2021-02-19 07:30:00-05:00
2022-08-30 00:23:05,043: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,044: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,044: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,086: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,087: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,087: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,087: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,088: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,088: root: INFO: Current backtesting datetime 2021-02-19 07:45:00-05:00
2022-08-30 00:23:05,089: root: INFO: Current backtesting datetime 2021-02-19 07:45:00-05:00
2022-08-30 00:23:05,089: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,091: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,092: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,092: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,092: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,092: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,093: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,093: root: INFO: Current backtesting datetime 2021-02-19 08:00:00-05:00
2022-08-30 00:23:05,094: root: INFO: Current backtesting datetime 2021-02-19 08:00:00-05:00
2022-08-30 00:23:05,094: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,096: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,096: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,141: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,141: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,141: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,142: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,144: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,144: root: INFO: Current backtesting datetime 2021-02-19 08:15:00-05:00
2022-08-30 00:23:05,146: root: INFO: Current backtesting datetime 2021-02-19 08:15:00-05:00
2022-08-30 00:23:05,146: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,148: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,148: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,148: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,148: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,149: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,150: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,150: root: INFO: Current backtesting datetime 2021-02-19 08:30:00-05:00
2022-08-30 00:23:05,152: root: INFO: Current backtesting datetime 2021-02-19 08:30:00-05:00
2022-08-30 00:23:05,152: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,154: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,154: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,198: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,199: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,200: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,200: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,201: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,202: root: INFO: Current backtesting datetime 2021-02-19 08:45:00-05:00
2022-08-30 00:23:05,203: root: INFO: Current backtesting datetime 2021-02-19 08:45:00-05:00
2022-08-30 00:23:05,203: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,205: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,205: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,206: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,206: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,206: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,208: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,228: root: INFO: Current backtesting datetime 2021-02-19 09:00:00-05:00
2022-08-30 00:23:05,230: root: INFO: Current backtesting datetime 2021-02-19 09:00:00-05:00
2022-08-30 00:23:05,230: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,232: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,232: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,280: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,281: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,281: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,281: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,283: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,284: root: INFO: Current backtesting datetime 2021-02-19 09:15:00-05:00
2022-08-30 00:23:05,285: root: INFO: Current backtesting datetime 2021-02-19 09:15:00-05:00
2022-08-30 00:23:05,285: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,287: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,287: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,288: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,288: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,288: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,290: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,290: root: INFO: Current backtesting datetime 2021-02-19 09:30:00-05:00
2022-08-30 00:23:05,291: root: INFO: Current backtesting datetime 2021-02-19 09:30:00-05:00
2022-08-30 00:23:05,291: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,293: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,293: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,340: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,341: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,341: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,342: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,344: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,344: root: INFO: Current backtesting datetime 2021-02-19 09:45:00-05:00
2022-08-30 00:23:05,345: root: INFO: Current backtesting datetime 2021-02-19 09:45:00-05:00
2022-08-30 00:23:05,345: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,347: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,348: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,348: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,348: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,348: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,350: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,350: root: INFO: Current backtesting datetime 2021-02-19 10:00:00-05:00
2022-08-30 00:23:05,352: root: INFO: Current backtesting datetime 2021-02-19 10:00:00-05:00
2022-08-30 00:23:05,352: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,354: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,354: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,398: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,398: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,398: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,398: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,400: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,400: root: INFO: Current backtesting datetime 2021-02-19 10:15:00-05:00
2022-08-30 00:23:05,401: root: INFO: Current backtesting datetime 2021-02-19 10:15:00-05:00
2022-08-30 00:23:05,401: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,403: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,403: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,403: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,403: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,403: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,404: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,405: root: INFO: Current backtesting datetime 2021-02-19 10:30:00-05:00
2022-08-30 00:23:05,406: root: INFO: Current backtesting datetime 2021-02-19 10:30:00-05:00
2022-08-30 00:23:05,406: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,407: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,407: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,451: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,452: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,452: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,452: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,453: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,453: root: INFO: Current backtesting datetime 2021-02-19 10:45:00-05:00
2022-08-30 00:23:05,454: root: INFO: Current backtesting datetime 2021-02-19 10:45:00-05:00
2022-08-30 00:23:05,455: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,456: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,456: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,456: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,456: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,456: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,458: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,458: root: INFO: Current backtesting datetime 2021-02-19 11:00:00-05:00
2022-08-30 00:23:05,459: root: INFO: Current backtesting datetime 2021-02-19 11:00:00-05:00
2022-08-30 00:23:05,459: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,460: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,461: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,506: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,507: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,507: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,507: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,508: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,509: root: INFO: Current backtesting datetime 2021-02-19 11:15:00-05:00
2022-08-30 00:23:05,510: root: INFO: Current backtesting datetime 2021-02-19 11:15:00-05:00
2022-08-30 00:23:05,510: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,512: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,512: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,512: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,513: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,513: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,515: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,515: root: INFO: Current backtesting datetime 2021-02-19 11:30:00-05:00
2022-08-30 00:23:05,517: root: INFO: Current backtesting datetime 2021-02-19 11:30:00-05:00
2022-08-30 00:23:05,517: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,519: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,519: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,563: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,563: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,563: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,564: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,565: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,565: root: INFO: Current backtesting datetime 2021-02-19 11:45:00-05:00
2022-08-30 00:23:05,567: root: INFO: Current backtesting datetime 2021-02-19 11:45:00-05:00
2022-08-30 00:23:05,567: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,569: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,569: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,569: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,571: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,571: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,573: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,573: root: INFO: Current backtesting datetime 2021-02-19 12:00:00-05:00
2022-08-30 00:23:05,574: root: INFO: Current backtesting datetime 2021-02-19 12:00:00-05:00
2022-08-30 00:23:05,574: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,576: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,576: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,622: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,622: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,622: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,623: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,624: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,624: root: INFO: Current backtesting datetime 2021-02-19 12:15:00-05:00
2022-08-30 00:23:05,626: root: INFO: Current backtesting datetime 2021-02-19 12:15:00-05:00
2022-08-30 00:23:05,626: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,628: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,628: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,629: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,631: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,631: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,633: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,633: root: INFO: Current backtesting datetime 2021-02-19 12:30:00-05:00
2022-08-30 00:23:05,634: root: INFO: Current backtesting datetime 2021-02-19 12:30:00-05:00
2022-08-30 00:23:05,635: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,637: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,638: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,692: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,692: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,693: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,693: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,695: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,695: root: INFO: Current backtesting datetime 2021-02-19 12:45:00-05:00
2022-08-30 00:23:05,696: root: INFO: Current backtesting datetime 2021-02-19 12:45:00-05:00
2022-08-30 00:23:05,697: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,698: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,699: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,699: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,700: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,700: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,701: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,701: root: INFO: Current backtesting datetime 2021-02-19 13:00:00-05:00
2022-08-30 00:23:05,702: root: INFO: Current backtesting datetime 2021-02-19 13:00:00-05:00
2022-08-30 00:23:05,703: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,704: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,704: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,748: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,748: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,749: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,749: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,750: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,750: root: INFO: Current backtesting datetime 2021-02-19 13:15:00-05:00
2022-08-30 00:23:05,753: root: INFO: Current backtesting datetime 2021-02-19 13:15:00-05:00
2022-08-30 00:23:05,753: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,755: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,755: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,755: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,756: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,756: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,757: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,757: root: INFO: Current backtesting datetime 2021-02-19 13:30:00-05:00
2022-08-30 00:23:05,759: root: INFO: Current backtesting datetime 2021-02-19 13:30:00-05:00
2022-08-30 00:23:05,759: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,760: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,760: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,803: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,803: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,803: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,804: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,805: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,805: root: INFO: Current backtesting datetime 2021-02-19 13:45:00-05:00
2022-08-30 00:23:05,807: root: INFO: Current backtesting datetime 2021-02-19 13:45:00-05:00
2022-08-30 00:23:05,807: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,809: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,809: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,809: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,809: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,809: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,811: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,811: root: INFO: Current backtesting datetime 2021-02-19 14:00:00-05:00
2022-08-30 00:23:05,812: root: INFO: Current backtesting datetime 2021-02-19 14:00:00-05:00
2022-08-30 00:23:05,812: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,814: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,814: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,859: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,860: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,860: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,860: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,862: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,862: root: INFO: Current backtesting datetime 2021-02-19 14:15:00-05:00
2022-08-30 00:23:05,864: root: INFO: Current backtesting datetime 2021-02-19 14:15:00-05:00
2022-08-30 00:23:05,864: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,866: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,866: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,867: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,867: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,868: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,869: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,869: root: INFO: Current backtesting datetime 2021-02-19 14:30:00-05:00
2022-08-30 00:23:05,871: root: INFO: Current backtesting datetime 2021-02-19 14:30:00-05:00
2022-08-30 00:23:05,871: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,872: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,873: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,919: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,919: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,920: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,920: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,922: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,922: root: INFO: Current backtesting datetime 2021-02-19 14:45:00-05:00
2022-08-30 00:23:05,923: root: INFO: Current backtesting datetime 2021-02-19 14:45:00-05:00
2022-08-30 00:23:05,923: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,925: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,925: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,926: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,926: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,926: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,928: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,928: root: INFO: Current backtesting datetime 2021-02-19 15:00:00-05:00
2022-08-30 00:23:05,929: root: INFO: Current backtesting datetime 2021-02-19 15:00:00-05:00
2022-08-30 00:23:05,929: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,931: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,931: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:05,976: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:05,977: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:05,977: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,977: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,980: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,980: root: INFO: Current backtesting datetime 2021-02-19 15:15:00-05:00
2022-08-30 00:23:05,982: root: INFO: Current backtesting datetime 2021-02-19 15:15:00-05:00
2022-08-30 00:23:05,982: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,984: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,984: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:05,984: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:05,984: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:05,985: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:05,987: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:05,987: root: INFO: Current backtesting datetime 2021-02-19 15:30:00-05:00
2022-08-30 00:23:05,988: root: INFO: Current backtesting datetime 2021-02-19 15:30:00-05:00
2022-08-30 00:23:05,988: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:05,990: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:05,990: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,035: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,035: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,036: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,036: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,037: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,037: root: INFO: Current backtesting datetime 2021-02-19 15:45:00-05:00
2022-08-30 00:23:06,039: root: INFO: Current backtesting datetime 2021-02-19 15:45:00-05:00
2022-08-30 00:23:06,039: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,041: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,041: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,041: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,042: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,042: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,043: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,043: root: INFO: Current backtesting datetime 2021-02-19 16:00:00-05:00
2022-08-30 00:23:06,044: root: INFO: Current backtesting datetime 2021-02-19 16:00:00-05:00
2022-08-30 00:23:06,044: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,046: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,046: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,093: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,093: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,093: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,094: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,095: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,096: root: INFO: Current backtesting datetime 2021-02-19 16:15:00-05:00
2022-08-30 00:23:06,097: root: INFO: Current backtesting datetime 2021-02-19 16:15:00-05:00
2022-08-30 00:23:06,097: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,099: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,099: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,100: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,100: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,100: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,102: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,102: root: INFO: Current backtesting datetime 2021-02-19 16:30:00-05:00
2022-08-30 00:23:06,103: root: INFO: Current backtesting datetime 2021-02-19 16:30:00-05:00
2022-08-30 00:23:06,103: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,106: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,106: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,154: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,154: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,154: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,154: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,156: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,156: root: INFO: Current backtesting datetime 2021-02-19 16:45:00-05:00
2022-08-30 00:23:06,157: root: INFO: Current backtesting datetime 2021-02-19 16:45:00-05:00
2022-08-30 00:23:06,157: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,159: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,159: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,159: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,165: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,165: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,166: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,166: root: INFO: Current backtesting datetime 2021-02-19 17:00:00-05:00
2022-08-30 00:23:06,167: root: INFO: Current backtesting datetime 2021-02-19 17:00:00-05:00
2022-08-30 00:23:06,167: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,169: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,169: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,231: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,231: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,232: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,232: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,234: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,234: root: INFO: Current backtesting datetime 2021-02-19 17:15:00-05:00
2022-08-30 00:23:06,235: root: INFO: Current backtesting datetime 2021-02-19 17:15:00-05:00
2022-08-30 00:23:06,235: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,237: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,237: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,237: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,237: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,237: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,239: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,239: root: INFO: Current backtesting datetime 2021-02-19 17:30:00-05:00
2022-08-30 00:23:06,241: root: INFO: Current backtesting datetime 2021-02-19 17:30:00-05:00
2022-08-30 00:23:06,241: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,242: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,243: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,289: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,289: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,289: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,289: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,291: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,291: root: INFO: Current backtesting datetime 2021-02-19 17:45:00-05:00
2022-08-30 00:23:06,293: root: INFO: Current backtesting datetime 2021-02-19 17:45:00-05:00
2022-08-30 00:23:06,293: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,295: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,295: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,295: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,296: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,296: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,297: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,298: root: INFO: Current backtesting datetime 2021-02-19 18:00:00-05:00
2022-08-30 00:23:06,299: root: INFO: Current backtesting datetime 2021-02-19 18:00:00-05:00
2022-08-30 00:23:06,299: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,301: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,301: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,350: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,351: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,351: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,351: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,353: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,353: root: INFO: Current backtesting datetime 2021-02-19 18:15:00-05:00
2022-08-30 00:23:06,355: root: INFO: Current backtesting datetime 2021-02-19 18:15:00-05:00
2022-08-30 00:23:06,355: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,357: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,357: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,357: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,357: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,358: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,359: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,359: root: INFO: Current backtesting datetime 2021-02-19 18:30:00-05:00
2022-08-30 00:23:06,361: root: INFO: Current backtesting datetime 2021-02-19 18:30:00-05:00
2022-08-30 00:23:06,361: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,363: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,363: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,409: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,409: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,410: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,410: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,411: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,412: root: INFO: Current backtesting datetime 2021-02-19 18:45:00-05:00
2022-08-30 00:23:06,413: root: INFO: Current backtesting datetime 2021-02-19 18:45:00-05:00
2022-08-30 00:23:06,413: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,415: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,415: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,416: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,417: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,417: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,419: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,419: root: INFO: Current backtesting datetime 2021-02-19 19:00:00-05:00
2022-08-30 00:23:06,420: root: INFO: Current backtesting datetime 2021-02-19 19:00:00-05:00
2022-08-30 00:23:06,421: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,422: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,423: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,602: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,602: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,602: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,603: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,606: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,609: root: INFO: Current backtesting datetime 2021-02-19 19:15:00-05:00
2022-08-30 00:23:06,611: root: INFO: Current backtesting datetime 2021-02-19 19:15:00-05:00
2022-08-30 00:23:06,613: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,615: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,615: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,616: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,617: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,617: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,619: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,619: root: INFO: Current backtesting datetime 2021-02-19 19:30:00-05:00
2022-08-30 00:23:06,622: root: INFO: Current backtesting datetime 2021-02-19 19:30:00-05:00
2022-08-30 00:23:06,622: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,624: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,624: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,673: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,674: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,674: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,675: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,676: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,677: root: INFO: Current backtesting datetime 2021-02-19 19:45:00-05:00
2022-08-30 00:23:06,678: root: INFO: Current backtesting datetime 2021-02-19 19:45:00-05:00
2022-08-30 00:23:06,679: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,681: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,681: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,681: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,682: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,682: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,684: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,685: root: INFO: Current backtesting datetime 2021-02-19 20:00:00-05:00
2022-08-30 00:23:06,686: root: INFO: Current backtesting datetime 2021-02-19 20:00:00-05:00
2022-08-30 00:23:06,686: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,688: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,688: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,736: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,737: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,737: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,738: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,739: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,739: root: INFO: Current backtesting datetime 2021-02-19 20:15:00-05:00
2022-08-30 00:23:06,741: root: INFO: Current backtesting datetime 2021-02-19 20:15:00-05:00
2022-08-30 00:23:06,741: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,743: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,743: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,743: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,744: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,744: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,745: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,746: root: INFO: Current backtesting datetime 2021-02-19 20:30:00-05:00
2022-08-30 00:23:06,747: root: INFO: Current backtesting datetime 2021-02-19 20:30:00-05:00
2022-08-30 00:23:06,747: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,749: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,749: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,804: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,804: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,805: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,805: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,807: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,807: root: INFO: Current backtesting datetime 2021-02-19 20:45:00-05:00
2022-08-30 00:23:06,809: root: INFO: Current backtesting datetime 2021-02-19 20:45:00-05:00
2022-08-30 00:23:06,810: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,812: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,813: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,815: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,817: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,818: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,821: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,823: root: INFO: Current backtesting datetime 2021-02-19 21:00:00-05:00
2022-08-30 00:23:06,825: root: INFO: Current backtesting datetime 2021-02-19 21:00:00-05:00
2022-08-30 00:23:06,825: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,829: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,829: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,891: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,891: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,891: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,892: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,893: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,893: root: INFO: Current backtesting datetime 2021-02-19 21:15:00-05:00
2022-08-30 00:23:06,895: root: INFO: Current backtesting datetime 2021-02-19 21:15:00-05:00
2022-08-30 00:23:06,895: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,897: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,898: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,899: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,901: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,901: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,903: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,903: root: INFO: Current backtesting datetime 2021-02-19 21:30:00-05:00
2022-08-30 00:23:06,905: root: INFO: Current backtesting datetime 2021-02-19 21:30:00-05:00
2022-08-30 00:23:06,905: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,907: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,908: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:06,963: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:06,963: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:06,964: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,964: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:06,966: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:06,966: root: INFO: Current backtesting datetime 2021-02-19 21:45:00-05:00
2022-08-30 00:23:06,968: root: INFO: Current backtesting datetime 2021-02-19 21:45:00-05:00
2022-08-30 00:23:06,968: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:06,973: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:06,973: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:06,973: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:06,973: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:06,973: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,015: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,015: root: INFO: Current backtesting datetime 2021-02-19 22:00:00-05:00
2022-08-30 00:23:07,026: root: INFO: Current backtesting datetime 2021-02-19 22:00:00-05:00
2022-08-30 00:23:07,048: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:07,076: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:07,077: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:07,301: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:07,302: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:07,302: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:07,302: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,304: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,304: root: INFO: Current backtesting datetime 2021-02-19 22:15:00-05:00
2022-08-30 00:23:07,306: root: INFO: Current backtesting datetime 2021-02-19 22:15:00-05:00
2022-08-30 00:23:07,307: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:07,309: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:07,310: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:07,310: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:07,310: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:07,310: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,313: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,314: root: INFO: Current backtesting datetime 2021-02-19 22:30:00-05:00
2022-08-30 00:23:07,315: root: INFO: Current backtesting datetime 2021-02-19 22:30:00-05:00
2022-08-30 00:23:07,315: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:07,317: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:07,317: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:07,400: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:07,400: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:07,401: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:07,401: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,403: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,403: root: INFO: Current backtesting datetime 2021-02-19 22:45:00-05:00
2022-08-30 00:23:07,405: root: INFO: Current backtesting datetime 2021-02-19 22:45:00-05:00
2022-08-30 00:23:07,405: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:07,407: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:07,407: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:07,408: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:07,408: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:07,408: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,410: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,410: root: INFO: Current backtesting datetime 2021-02-19 23:00:00-05:00
2022-08-30 00:23:07,412: root: INFO: Current backtesting datetime 2021-02-19 23:00:00-05:00
2022-08-30 00:23:07,412: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:07,415: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:07,415: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:07,490: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:07,490: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:07,491: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:07,491: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,493: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,493: root: INFO: Current backtesting datetime 2021-02-19 23:15:00-05:00
2022-08-30 00:23:07,495: root: INFO: Current backtesting datetime 2021-02-19 23:15:00-05:00
2022-08-30 00:23:07,495: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:07,497: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:07,497: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:07,498: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:07,498: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:07,498: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,503: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,503: root: INFO: Current backtesting datetime 2021-02-19 23:30:00-05:00
2022-08-30 00:23:07,506: root: INFO: Current backtesting datetime 2021-02-19 23:30:00-05:00
2022-08-30 00:23:07,506: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:07,510: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:07,510: root: INFO: Getting historical prices for BTC, 3040 bars, minute
2022-08-30 00:23:07,578: root: ERROR: name 'data_train' is not defined
2022-08-30 00:23:07,578: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 286, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 70, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 340, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 128, in on_trading_iteration
    X=data_train.drop("close_future", axis=1),
NameError: name 'data_train' is not defined

2022-08-30 00:23:07,579: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:07,579: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,581: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,581: root: INFO: Current backtesting datetime 2021-02-19 23:45:00-05:00
2022-08-30 00:23:07,582: root: INFO: Current backtesting datetime 2021-02-19 23:45:00-05:00
2022-08-30 00:23:07,582: root: INFO: MachineLearningCrypto : Executing the before_starting_trading lifecycle method
2022-08-30 00:23:07,584: root: INFO: MachineLearningCrypto : Executing the on_trading_iteration lifecycle method
2022-08-30 00:23:07,585: root: ERROR: unsupported operand type(s) for -: 'NoneType' and 'float'
2022-08-30 00:23:07,585: root: ERROR: Traceback (most recent call last):
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 569, in run
    self._run_trading_session()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 543, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 262, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 287, in func_output
    self._trace_stats(self._strategy_context, snapshot_before)
  File "/Users/robertgrzesik/opt/anaconda3/lib/python3.8/site-packages/lumibot/strategies/strategy_executor.py", line 296, in _trace_stats
    result = self.strategy.trace_stats(context, snapshot_before)
  File "/Users/robertgrzesik/Development/LumibotML/ml_strategy_crypto.py", line 220, in trace_stats
    "absolute_error": abs(self.prediction - self.last_price),
TypeError: unsupported operand type(s) for -: 'NoneType' and 'float'

2022-08-30 00:23:07,585: root: INFO: MachineLearningCrypto : Executing the on_bot_crash event method
2022-08-30 00:23:07,586: root: WARNING: Strategy MachineLearningCrypto: sell all
2022-08-30 00:23:07,587: root: INFO: MachineLearningCrypto : [34mSleeping for 900 seconds[0m
2022-08-30 00:23:07,587: root: INFO: Current backtesting datetime 2021-02-20 00:00:00-05:00
2022-08-30 00:23:07,588: root: INFO: MachineLearningCrypto : Executing the on_strategy_end lifecycle method
2022-08-30 00:23:07,589: backtest_stats: INFO: Backtest took 0:00:03.405420 for a speed of 0.000
2022-08-30 00:23:07,589: root: WARNING: Cannot plot returns because the strategy returns are missing
2022-08-30 00:23:07,589: root: WARNING: Cannot create a tearsheet because the strategy returns are missing
